import Image from 'next/image'
import { Like, LikeClose } from './like';
import { getFavorites } from '@/services/favorites';
import { getProducts } from '@/services/IndexPage';
import Favorites from './favorites';


export default async function Header() {
    const favorite = await getFavorites('jwt')
    const products = await getProducts()

    return (
        <header className='fixed w-[100%] z-10 top-[22px] left-[50%] translate-x-[-50%]'>
            <div className="w-[90vw] m-auto bg-[#1A1A1A] rounded-[23px] flex items-center justify-between px-[70px] py-[18px]">
                <a href='/'>                    
                    <svg xmlns="http://www.w3.org/2000/svg" width="192" height="32" viewBox="0 0 192 32" fill="none">
                        <path d="M0 17.2009H6.92633C7.03575 17.8794 7.35307 18.4702 7.87829 18.9736C8.40351 19.4769 9.10377 19.8708 9.97913 20.1553C10.8764 20.4179 11.9268 20.5492 13.1305 20.5492C14.7936 20.5492 16.1067 20.3413 17.0696 19.9255C18.0325 19.4878 18.514 18.8532 18.514 18.0216C18.514 17.387 18.2404 16.8946 17.6933 16.5444C17.1462 16.1943 16.0958 15.9426 14.542 15.7894L9.94631 15.3627C6.5543 15.0563 4.09233 14.2904 2.56044 13.0648C1.02855 11.8174 0.26261 10.1433 0.26261 8.04243C0.26261 6.33546 0.755 4.89111 1.73979 3.70937C2.74646 2.52762 4.14704 1.64131 5.94154 1.05044C7.75793 0.437683 9.86971 0.131305 12.277 0.131305C14.6405 0.131305 16.7413 0.470509 18.5796 1.14892C20.4179 1.80544 21.8732 2.74646 22.9455 3.97198C24.0397 5.19749 24.6306 6.61996 24.7181 8.23939H17.8246C17.7371 7.64851 17.4526 7.14518 16.9711 6.72938C16.5116 6.2917 15.8769 5.96343 15.0672 5.74459C14.2575 5.50387 13.2836 5.3835 12.1457 5.3835C10.6138 5.3835 9.3992 5.5914 8.50199 6.0072C7.60474 6.40112 7.15611 6.99199 7.15611 7.77982C7.15611 8.34881 7.41873 8.80837 7.94394 9.15852C8.49105 9.50867 9.46486 9.74939 10.8654 9.8807L15.7566 10.3731C18.0982 10.5919 19.9693 10.9749 21.3698 11.522C22.7704 12.0472 23.788 12.7803 24.4227 13.7214C25.0573 14.6624 25.3746 15.8332 25.3746 17.2338C25.3746 18.9626 24.8604 20.4726 23.8318 21.7638C22.8032 23.0331 21.3589 24.0288 19.4987 24.751C17.6386 25.4513 15.4721 25.8014 12.9991 25.8014C10.4606 25.8014 8.2175 25.4513 6.26981 24.751C4.344 24.0288 2.83399 23.0221 1.73979 21.731C0.645579 20.4179 0.0656525 18.9079 0 17.2009ZM28.1934 0H34.9228V25.2762H28.1934V0ZM49.6086 25.8014C47.3326 25.8014 45.2974 25.3856 43.5029 24.554C41.7303 23.7224 40.3297 22.5626 39.3012 21.0744C38.2726 19.5644 37.7583 17.8137 37.7583 15.8222C37.7583 13.8746 38.2507 12.1676 39.2355 10.7014C40.2203 9.21323 41.5662 8.05337 43.2731 7.22177C45.002 6.39017 46.9497 5.97438 49.1162 5.97438C51.3703 5.97438 53.2851 6.46677 54.8608 7.45156C56.4583 8.41446 57.6839 9.78222 58.5373 11.5548C59.4127 13.3275 59.8504 15.4174 59.8504 17.8246H43.1747V13.787H56.0754L53.876 15.1985C53.7885 14.2356 53.5477 13.4259 53.1538 12.7694C52.7599 12.091 52.2347 11.5767 51.5782 11.2266C50.9435 10.8764 50.1776 10.7014 49.2803 10.7014C48.2956 10.7014 47.453 10.8983 46.7527 11.2922C46.0524 11.6861 45.5053 12.2332 45.1114 12.9335C44.7175 13.6119 44.5205 14.4107 44.5205 15.3299C44.5205 16.5116 44.7831 17.5183 45.3084 18.3499C45.8555 19.1596 46.6433 19.7833 47.6719 20.221C48.7223 20.6586 50.0025 20.8775 51.5125 20.8775C52.8912 20.8775 54.259 20.7024 55.6158 20.3523C56.9945 19.9802 58.2419 19.466 59.358 18.8094V23.0768C58.0668 23.9522 56.5896 24.6306 54.9265 25.1121C53.2851 25.5716 51.5125 25.8014 49.6086 25.8014ZM73.7154 25.8014C71.4394 25.8014 69.4042 25.3856 67.6097 24.554C65.8371 23.7224 64.4365 22.5626 63.4079 21.0744C62.3794 19.5644 61.8651 17.8137 61.8651 15.8222C61.8651 13.8746 62.3575 12.1676 63.3423 10.7014C64.3271 9.21323 65.6729 8.05337 67.3799 7.22177C69.1087 6.39017 71.0564 5.97438 73.223 5.97438C75.477 5.97438 77.3919 6.46677 78.9676 7.45156C80.5651 8.41446 81.7906 9.78222 82.6441 11.5548C83.5195 13.3275 83.9572 15.4174 83.9572 17.8246H67.2814V13.787H80.1821L77.9828 15.1985C77.8952 14.2356 77.6545 13.4259 77.2606 12.7694C76.8667 12.091 76.3415 11.5767 75.6849 11.2266C75.0503 10.8764 74.2844 10.7014 73.3871 10.7014C72.4023 10.7014 71.5598 10.8983 70.8595 11.2922C70.1592 11.6861 69.6121 12.2332 69.2182 12.9335C68.8243 13.6119 68.6273 14.4107 68.6273 15.3299C68.6273 16.5116 68.8899 17.5183 69.4151 18.3499C69.9622 19.1596 70.7501 19.7833 71.7786 20.221C72.8291 20.6586 74.1093 20.8775 75.6193 20.8775C76.998 20.8775 78.3658 20.7024 79.7226 20.3523C81.1013 19.9802 82.3487 19.466 83.4648 18.8094V23.0768C82.1736 23.9522 80.6964 24.6306 79.0332 25.1121C77.3919 25.5716 75.6193 25.8014 73.7154 25.8014ZM86.8253 6.53242H93.5549V11.9159L93.2595 12.7038V17.9559L93.5549 19.4988V30.6925H86.8253V6.53242ZM91.4212 15.9207C91.7057 13.8855 92.2966 12.1348 93.1938 10.6685C94.1129 9.1804 95.2728 8.03149 96.6734 7.22177C98.074 6.39017 99.6606 5.97438 101.433 5.97438C103.271 5.97438 104.88 6.39017 106.259 7.22177C107.659 8.05337 108.743 9.21323 109.508 10.7014C110.296 12.1895 110.69 13.9293 110.69 15.9207C110.69 17.8684 110.296 19.5973 109.508 21.1073C108.743 22.5954 107.659 23.7553 106.259 24.5868C104.88 25.3966 103.271 25.8014 101.433 25.8014C99.6606 25.8014 98.074 25.3966 96.6734 24.5868C95.2728 23.7553 94.1239 22.5954 93.2266 21.1073C92.3294 19.6191 91.7276 17.8903 91.4212 15.9207ZM103.928 15.9207C103.928 14.9797 103.731 14.1481 103.337 13.4259C102.965 12.7038 102.429 12.1348 101.729 11.719C101.05 11.3032 100.273 11.0953 99.398 11.0953C98.5007 11.0953 97.6472 11.3032 96.8375 11.719C96.0278 12.1348 95.3166 12.7038 94.7038 13.4259C94.0911 14.1481 93.6206 14.9797 93.2923 15.9207C93.6206 16.8399 94.0911 17.6605 94.7038 18.3827C95.3166 19.1049 96.0278 19.6739 96.8375 20.0897C97.6472 20.4836 98.5007 20.6805 99.398 20.6805C100.273 20.6805 101.05 20.4836 101.729 20.0897C102.429 19.6739 102.965 19.1049 103.337 18.3827C103.731 17.6605 103.928 16.8399 103.928 15.9207Z" fill="#95F35A"/>
                        <path d="M130.184 13.2289L130.742 11.9487C132.646 11.9925 134.21 12.2879 135.436 12.835C136.683 13.3602 137.613 14.1043 138.226 15.0672C138.839 16.0082 139.145 17.1024 139.145 18.3498C139.145 19.6848 138.839 20.8775 138.226 21.9279C137.613 22.9564 136.694 23.7771 135.469 24.3899C134.265 24.9807 132.755 25.2762 130.939 25.2762H112.753L114.657 12.6381L112.753 0.656494H130.282C132.558 0.656494 134.331 1.19266 135.6 2.26498C136.869 3.31542 137.504 4.78166 137.504 6.6637C137.504 7.69225 137.263 8.67704 136.782 9.61806C136.3 10.5591 135.523 11.3578 134.451 12.0144C133.401 12.649 131.978 13.0539 130.184 13.2289ZM119.482 23.7005L116.856 20.5164H129.1C130.085 20.5164 130.851 20.2756 131.398 19.7942C131.945 19.3127 132.219 18.6453 132.219 17.7918C132.219 16.9383 131.923 16.2599 131.333 15.7566C130.742 15.2313 129.866 14.9687 128.706 14.9687H118.596V10.3074H127.787C128.575 10.3074 129.232 10.0776 129.757 9.61806C130.304 9.13661 130.578 8.49102 130.578 7.68131C130.578 7.02479 130.348 6.48862 129.888 6.07282C129.429 5.63514 128.772 5.4163 127.919 5.4163H116.889L119.482 2.23216L121.156 12.6381L119.482 23.7005ZM158.869 25.2762L158.016 18.514L158.902 15.9207L158.016 13.3274L158.869 6.53239H165.828L164.647 15.8879L165.828 25.2762H158.869ZM160.445 15.9207C160.139 17.8903 159.526 19.6191 158.607 21.1072C157.709 22.5954 156.56 23.7552 155.16 24.5868C153.781 25.3965 152.206 25.8014 150.433 25.8014C148.595 25.8014 146.975 25.3965 145.575 24.5868C144.196 23.7552 143.113 22.5954 142.325 21.1072C141.537 19.5972 141.143 17.8684 141.143 15.9207C141.143 13.9292 141.537 12.1894 142.325 10.7013C143.113 9.2132 144.196 8.05334 145.575 7.22174C146.975 6.39014 148.595 5.97435 150.433 5.97435C152.206 5.97435 153.781 6.39014 155.16 7.22174C156.56 8.03146 157.72 9.18037 158.639 10.6685C159.559 12.1347 160.16 13.8855 160.445 15.9207ZM147.938 15.9207C147.938 16.8398 148.124 17.6605 148.496 18.3827C148.89 19.1048 149.426 19.6738 150.105 20.0896C150.783 20.4835 151.56 20.6805 152.435 20.6805C153.354 20.6805 154.219 20.4835 155.029 20.0896C155.838 19.6738 156.55 19.1048 157.162 18.3827C157.775 17.6605 158.235 16.8398 158.541 15.9207C158.235 14.9797 157.775 14.1481 157.162 13.4259C156.55 12.7037 155.838 12.1347 155.029 11.7189C154.219 11.3031 153.354 11.0952 152.435 11.0952C151.56 11.0952 150.783 11.3031 150.105 11.7189C149.426 12.1347 148.89 12.7037 148.496 13.4259C148.124 14.1481 147.938 14.9797 147.938 15.9207ZM185.303 20.5492V17.365L185.533 16.5772V11.9815L185.303 11.2922V6.53239H192V20.2866C192 22.5844 191.464 24.554 190.392 26.1953C189.319 27.8366 187.82 29.084 185.894 29.9375C183.99 30.791 181.736 31.2177 179.132 31.2177C177.403 31.2177 175.795 30.9879 174.307 30.5284C172.84 30.0907 171.374 29.4342 169.908 28.5588V23.5036C171.265 24.5102 172.687 25.2324 174.175 25.6701C175.685 26.1297 177.195 26.3594 178.705 26.3594C180.85 26.3594 182.48 25.8999 183.596 24.9807C184.734 24.0616 185.303 22.5844 185.303 20.5492ZM177.261 23.3066C175.488 23.3066 173.913 22.9455 172.534 22.2233C171.155 21.5012 170.061 20.4945 169.251 19.2033C168.464 17.8903 168.07 16.3693 168.07 14.6405C168.07 12.8897 168.464 11.3688 169.251 10.0776C170.061 8.78646 171.155 7.77979 172.534 7.05761C173.913 6.33543 175.488 5.97435 177.261 5.97435C178.574 5.97435 179.778 6.18225 180.872 6.59804C181.966 6.99196 182.94 7.52812 183.793 8.20653C184.647 8.86305 185.358 9.58523 185.927 10.3731C186.518 11.139 186.967 11.905 187.273 12.6709C187.579 13.4368 187.733 14.1153 187.733 14.7061C187.733 15.5158 187.492 16.4131 187.01 17.3979C186.551 18.3827 185.872 19.3237 184.975 20.2209C184.078 21.1182 182.973 21.8622 181.66 22.4531C180.369 23.0221 178.902 23.3066 177.261 23.3066ZM179.526 18.7438C180.817 18.7438 181.966 18.4045 182.973 17.7261C183.979 17.0477 184.833 16.0192 185.533 14.6405C184.811 13.2399 183.947 12.2113 182.94 11.5548C181.933 10.8764 180.795 10.5372 179.526 10.5372C178.563 10.5372 177.721 10.7013 176.998 11.0296C176.298 11.3578 175.762 11.8393 175.39 12.4739C175.018 13.0867 174.832 13.8089 174.832 14.6405C174.832 15.4502 175.018 16.1724 175.39 16.807C175.762 17.4198 176.298 17.9012 176.998 18.2514C177.699 18.5796 178.541 18.7438 179.526 18.7438Z" fill="#F4F4F4"/>
                    </svg>
                </a>

                <div className='flex gap-[35px]'>
                    <a href="#main" className='text-[#f4f4f4] opacity-80 text-[18px]'>Главная</a>
                    <a href="#aboutus" className='text-[#f4f4f4] opacity-80 text-[18px]'>О компании</a>
                    <a href="/catalog" className='list-level-0 text-[#f4f4f4] text-[18px] opacity-80'>Каталог</a>
                    <a href="#production" className='text-[#f4f4f4] opacity-80 text-[18px]'>О продукции</a>
                    <a href="#contacts" className='text-[#f4f4f4] opacity-80 text-[18px]'>Контакты</a>
                </div>

                <div className="flex gap-[30px]">
                    <button className="nofill-button">Задать вопрос</button>

                    <div className='flex gap-[25px]'>
                        <a href="#" className='flex items-center'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                <path d="M8.33335 22.9167C8.90865 22.9167 9.37502 22.4503 9.37502 21.875C9.37502 21.2997 8.90865 20.8333 8.33335 20.8333C7.75806 20.8333 7.29169 21.2997 7.29169 21.875C7.29169 22.4503 7.75806 22.9167 8.33335 22.9167Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M19.7917 22.9167C20.367 22.9167 20.8333 22.4503 20.8333 21.875C20.8333 21.2997 20.367 20.8333 19.7917 20.8333C19.2164 20.8333 18.75 21.2997 18.75 21.875C18.75 22.4503 19.2164 22.9167 19.7917 22.9167Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M2.13544 2.13541H4.21877L6.9896 15.0729C7.09125 15.5467 7.35489 15.9703 7.73514 16.2707C8.11539 16.5711 8.58846 16.7295 9.07294 16.7187H19.2604C19.7346 16.718 20.1943 16.5555 20.5636 16.2582C20.9329 15.9608 21.1897 15.5464 21.2917 15.0833L23.0104 7.34374H5.33335" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        
                        <Like/>

                        <a href="#" className='flex items-center'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                <path d="M19 7C19 10.3138 16.3138 13 13 13C9.68621 13 7 10.3138 7 7C7 3.68621 9.68621 1 13 1C16.3138 1 19 3.68621 19 7Z" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
                                <path d="M8.28028 14C7.88281 14.1923 7.34723 14.4947 6.79473 14.9561C6.13511 15.5073 5.76584 16.0276 5.45294 16.4711C4.98219 17.1453 4.28874 18.1347 4.07733 19.5036C4.02377 19.8496 4.01531 20.2521 4.00404 21.0544C3.98994 21.849 4.01531 22.5104 4.04068 22.9667C9.9716 23.0103 15.9053 22.9564 21.8391 23C21.8955 22.6411 21.9603 22.2412 21.9828 21.6491C22.0026 21.1877 22.0364 20.3443 21.8757 19.5036C21.6136 18.1347 20.9201 17.1837 20.424 16.5044C19.5868 15.356 18.6143 14.546 17.8165 14" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div className="cart absolute right-[5vw] top-[100vh] h-[85vh] w-[40vw] bg-[#262626] rounded-[33px]">
                <div className="flex justify-between px-[52px] pt-[38px] pb-[0px]">
                    <h3 className='text-[#95F35A] text-[24px] font-semibold uppercase'>Избранные товары</h3> 
                    <LikeClose/> 
                </div>
                <div className='cart_hr'/>
                
                <Favorites favorite={favorite} products={products}/>
            </div>
        </header>
    );
}